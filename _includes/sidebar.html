{%- comment -%}
  Renders the hierarchical navigation sidebar.
  Reads data from _data/navigation.yml
{%- endcomment -%}
<div class="sidebar">
  <nav class="sidebar-nav">
    <ul>
      {%- for item in site.data.navigation.main -%}
        <li class="{% if page.url == item.url %}active{% endif %} {% if item.children %}parent{% endif %}">
          <a href="{{ item.url | relative_url }}">{{ item.title }}</a>
          {%- if item.children -%}
            <ul>
              {%- for child in item.children -%}
                <li class="{% if page.url == child.url %}active{% endif %}"><a href="{{ child.url | relative_url }}">{{ child.title }}</a></li>
              {%- endfor -%}
            </ul>
          {%- endif -%}
        </li>
      {%- endfor -%}
    </ul>
  </nav>
</div>